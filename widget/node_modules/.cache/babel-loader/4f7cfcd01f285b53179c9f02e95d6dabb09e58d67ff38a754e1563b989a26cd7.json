{"ast":null,"code":"import{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function ChatWidget(){const[open,setOpen]=useState(false);const[messages,setMessages]=useState([]);const[input,setInput]=useState(\"\");const send=async()=>{if(!input.trim())return;setMessages([...messages,{sender:\"user\",text:input}]);const res=await fetch(\"http://localhost:5000/api/chat\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({message:input})});const data=await res.json();setMessages([...messages,{sender:\"user\",text:input},{sender:\"bot\",text:data.reply}]);setInput(\"\");};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setOpen(!open),className:\"fixed bottom-4 right-4 bg-blue-600 text-white rounded-full p-4 shadow-lg\",children:\"\\uD83D\\uDCAC\"}),open&&/*#__PURE__*/_jsxs(\"div\",{className:\"fixed bottom-20 right-4 w-80 h-96 bg-white shadow-xl rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"overflow-y-auto h-72\",children:messages.map((m,i)=>/*#__PURE__*/_jsx(\"div\",{className:m.sender===\"user\"?\"text-right\":\"text-left\",children:/*#__PURE__*/_jsx(\"p\",{className:\"p-2 my-1 rounded-lg \"+(m.sender===\"user\"?\"bg-blue-100\":\"bg-gray-200\"),children:m.text})},i))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex mt-2 gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"border p-2 flex-1\",value:input,onChange:e=>setInput(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-600 text-white px-3\",onClick:send,children:\"Send\"})]})]})]});}","map":{"version":3,"names":["useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ChatWidget","open","setOpen","messages","setMessages","input","setInput","send","trim","sender","text","res","fetch","method","headers","body","JSON","stringify","message","data","json","reply","children","onClick","className","map","m","i","value","onChange","e","target"],"sources":["/Users/chatrapathishivaji/Documents/SmartAIChatbot/widget/src/chatwidget.js"],"sourcesContent":["import { useState } from \"react\";\n\nexport default function ChatWidget() {\n    const [open, setOpen] = useState(false);\n    const [messages, setMessages] = useState([]);\n    const [input, setInput] = useState(\"\");\n\n    const send = async () => {\n        if (!input.trim()) return;\n\n        setMessages([...messages, { sender: \"user\", text: input }]);\n\n        const res = await fetch(\"http://localhost:5000/api/chat\", {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({ message: input })\n        });\n\n        const data = await res.json();\n\n        setMessages([\n            ...messages,\n            { sender: \"user\", text: input },\n            { sender: \"bot\", text: data.reply }\n        ]);\n\n        setInput(\"\");\n    };\n\n    return (\n        <>\n            <button\n                onClick={() => setOpen(!open)}\n                className=\"fixed bottom-4 right-4 bg-blue-600 text-white rounded-full p-4 shadow-lg\"\n            >\n                ðŸ’¬\n            </button>\n\n            {open && (\n                <div className=\"fixed bottom-20 right-4 w-80 h-96 bg-white shadow-xl rounded-lg p-4\">\n                    <div className=\"overflow-y-auto h-72\">\n                        {messages.map((m, i) => (\n                            <div key={i} className={m.sender === \"user\" ? \"text-right\" : \"text-left\"}>\n                                <p className={\"p-2 my-1 rounded-lg \" +\n                                    (m.sender === \"user\" ? \"bg-blue-100\" : \"bg-gray-200\")\n                                }>\n                                    {m.text}\n                                </p>\n                            </div>\n                        ))}\n                    </div>\n\n                    <div className=\"flex mt-2 gap-2\">\n                        <input\n                            className=\"border p-2 flex-1\"\n                            value={input}\n                            onChange={(e) => setInput(e.target.value)}\n                        />\n                        <button className=\"bg-blue-600 text-white px-3\" onClick={send}>\n                            Send\n                        </button>\n                    </div>\n                </div>\n            )}\n        </>\n    );\n}\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEjC,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAG,CACjC,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGT,QAAQ,CAAC,KAAK,CAAC,CACvC,KAAM,CAACU,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAAc,IAAI,CAAG,KAAAA,CAAA,GAAY,CACrB,GAAI,CAACF,KAAK,CAACG,IAAI,CAAC,CAAC,CAAE,OAEnBJ,WAAW,CAAC,CAAC,GAAGD,QAAQ,CAAE,CAAEM,MAAM,CAAE,MAAM,CAAEC,IAAI,CAAEL,KAAM,CAAC,CAAC,CAAC,CAE3D,KAAM,CAAAM,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,gCAAgC,CAAE,CACtDC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,OAAO,CAAEb,KAAM,CAAC,CAC3C,CAAC,CAAC,CAEF,KAAM,CAAAc,IAAI,CAAG,KAAM,CAAAR,GAAG,CAACS,IAAI,CAAC,CAAC,CAE7BhB,WAAW,CAAC,CACR,GAAGD,QAAQ,CACX,CAAEM,MAAM,CAAE,MAAM,CAAEC,IAAI,CAAEL,KAAM,CAAC,CAC/B,CAAEI,MAAM,CAAE,KAAK,CAAEC,IAAI,CAAES,IAAI,CAACE,KAAM,CAAC,CACtC,CAAC,CAEFf,QAAQ,CAAC,EAAE,CAAC,CAChB,CAAC,CAED,mBACIT,KAAA,CAAAE,SAAA,EAAAuB,QAAA,eACI3B,IAAA,WACI4B,OAAO,CAAEA,CAAA,GAAMrB,OAAO,CAAC,CAACD,IAAI,CAAE,CAC9BuB,SAAS,CAAC,0EAA0E,CAAAF,QAAA,CACvF,cAED,CAAQ,CAAC,CAERrB,IAAI,eACDJ,KAAA,QAAK2B,SAAS,CAAC,qEAAqE,CAAAF,QAAA,eAChF3B,IAAA,QAAK6B,SAAS,CAAC,sBAAsB,CAAAF,QAAA,CAChCnB,QAAQ,CAACsB,GAAG,CAAC,CAACC,CAAC,CAAEC,CAAC,gBACfhC,IAAA,QAAa6B,SAAS,CAAEE,CAAC,CAACjB,MAAM,GAAK,MAAM,CAAG,YAAY,CAAG,WAAY,CAAAa,QAAA,cACrE3B,IAAA,MAAG6B,SAAS,CAAE,sBAAsB,EAC/BE,CAAC,CAACjB,MAAM,GAAK,MAAM,CAAG,aAAa,CAAG,aAAa,CACvD,CAAAa,QAAA,CACII,CAAC,CAAChB,IAAI,CACR,CAAC,EALEiB,CAML,CACR,CAAC,CACD,CAAC,cAEN9B,KAAA,QAAK2B,SAAS,CAAC,iBAAiB,CAAAF,QAAA,eAC5B3B,IAAA,UACI6B,SAAS,CAAC,mBAAmB,CAC7BI,KAAK,CAAEvB,KAAM,CACbwB,QAAQ,CAAGC,CAAC,EAAKxB,QAAQ,CAACwB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC7C,CAAC,cACFjC,IAAA,WAAQ6B,SAAS,CAAC,6BAA6B,CAACD,OAAO,CAAEhB,IAAK,CAAAe,QAAA,CAAC,MAE/D,CAAQ,CAAC,EACR,CAAC,EACL,CACR,EACH,CAAC,CAEX","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}